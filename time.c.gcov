        -:    0:Source:/home/dgpt/code/games/micro-idle/engine/platform/time.c
        -:    0:Graph:build/CMakeFiles/tests.dir/engine/platform/time.c.gcno
        -:    0:Data:build/CMakeFiles/tests.dir/engine/platform/time.c.gcda
        -:    0:Runs:15
        -:    1:#include "engine/platform/time.h"
        -:    2:
function time_init called 30 returned 100% blocks executed 75%
       30:    3:void time_init(TimeState *state, int tick_hz) {
       30:    4:    state->real_dt = 0.0;
       30:    5:    state->accumulator = 0.0;
      30*:    6:    state->tick_dt = (tick_hz > 0) ? (1.0 / (double)tick_hz) : (1.0 / 60.0);
branch  0 taken 30 (fallthrough)
branch  1 taken 0
       30:    7:    state->tick = 0;
       30:    8:}
        -:    9:
function time_update called 90 returned 100% blocks executed 100%
       90:   10:int time_update(TimeState *state, double real_dt) {
       90:   11:    if (real_dt < 0.0) {
branch  0 taken 15 (fallthrough)
branch  1 taken 75
       15:   12:        real_dt = 0.0;
        -:   13:    }
       90:   14:    state->real_dt = real_dt;
       90:   15:    state->accumulator += real_dt;
        -:   16:
       90:   17:    int steps = 0;
      240:   18:    while (state->accumulator >= state->tick_dt) {
branch  0 taken 165
branch  1 taken 75 (fallthrough)
      165:   19:        state->accumulator -= state->tick_dt;
      165:   20:        state->tick++;
      165:   21:        steps++;
      165:   22:        if (steps > 8) {
branch  0 taken 15 (fallthrough)
branch  1 taken 150
       15:   23:            state->accumulator = 0.0;
       15:   24:            break;
        -:   25:        }
        -:   26:    }
       90:   27:    return steps;
        -:   28:}
        -:   29:
function time_alpha called 40 returned 100% blocks executed 100%
       40:   30:float time_alpha(const TimeState *state) {
       40:   31:    if (state->tick_dt <= 0.0) {
branch  0 taken 10 (fallthrough)
branch  1 taken 30
       10:   32:        return 0.0f;
        -:   33:    }
       30:   34:    return (float)(state->accumulator / state->tick_dt);
        -:   35:}
